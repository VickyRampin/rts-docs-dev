"use strict";(self.webpackChunkrts_docs=self.webpackChunkrts_docs||[]).push([["1444"],{49226(e,n,t){t.r(n),t.d(n,{metadata:()=>o,default:()=>h,frontMatter:()=>r,contentTitle:()=>i,toc:()=>l,assets:()=>c});var o=JSON.parse('{"id":"hpc/storage/best_practices","title":"Best Practices on HPC Storage","description":"User Quota Limits and the myquota command","source":"@site/docs/hpc/03_storage/05_best_practices.mdx","sourceDirName":"hpc/03_storage","slug":"/hpc/storage/best_practices","permalink":"/docs/hpc/storage/best_practices","draft":false,"unlisted":false,"editUrl":"https://github.com/NYU-RTS/rts-docs/blob/main/docs/hpc/03_storage/05_best_practices.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"hpcSidebar","previous":{"title":"Research Project Space (RPS)","permalink":"/docs/hpc/storage/research_project_space"},"next":{"title":"Large Number of Small Files","permalink":"/docs/hpc/storage/large_number_of_small_files"}}'),s=t(62615),a=t(30416);let r={},i="Best Practices on HPC Storage",c={},l=[{value:"User Quota Limits and the myquota command",id:"user-quota-limits-and-the-myquota-command",level:2},{value:"Large number of small files",id:"large-number-of-small-files",level:2},{value:"Installing Python packages",id:"installing-python-packages",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"best-practices-on-hpc-storage",children:"Best Practices on HPC Storage"})}),"\n",(0,s.jsx)(n.h2,{id:"user-quota-limits-and-the-myquota-command",children:"User Quota Limits and the myquota command"}),"\n",(0,s.jsxs)(n.p,{children:["All users have quote limits set on HPC fie systems. There are several types of quota limits, such as limits on the amount of disk space (disk quota), number of files (inode quota) etc. The default user quota limits on HPC file systems are listed ",(0,s.jsx)(n.a,{href:"/docs/hpc/storage/intro_and_data_management#hpc-storage-mounts-comparison-table",children:"on our Data Management page"}),"."]}),"\n",(0,s.jsx)(n.admonition,{title:"Home directory inode quotas",type:"warning",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"One of the common issues users report is running out of inodes in their home directory."})," This usually occurs during software installation, for example installing conda environment under their home directory. Running out of quota causes a variety of issues such as running user jobs being interrupted or users being unable to finish the installation of packages under their home directory."]})}),"\n",(0,s.jsx)(n.p,{children:"Users can check their current utilization of quota using the myquota command. The myquota command provides a report of the current quota limits on mounted file systems, the user's quota utilization, as well as the percentage of quota utilization."}),"\n",(0,s.jsxs)(n.p,{children:["In the following example the user who executes the ",(0,s.jsx)(n.code,{children:"myquota"})," command is out of inodes in their home directory. The user inode quota limit on the ",(0,s.jsx)(n.code,{children:"/home"})," file system ",(0,s.jsx)(n.strong,{children:"30.0K inodes"})," and the user has ",(0,s.jsx)(n.strong,{children:"33000 inodes"}),", thus ",(0,s.jsx)(n.strong,{children:"110%"})," of the inode quota limit."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"$ myquota\nQuota Information for NetID\nHostname: torch-login-2 at 2025-12-09 17:18:24\n\nFilesystem   Environment       Backed up?   Allocation           Current Usage\nSpace        Variable          /Flushed?    Space / Files        Space(%) / Files(%)\n\n/home        $HOME             YES/NO       0.05TB/0.03M         0.0TB(0.0%)/54(0%)\n/scratch     $SCRATCH          NO/YES       5.0TB/5.0M           0.0TB(0.0%)/1(0%)\n/archive     $ARCHIVE          YES/NO       2.0TB/0.02M          0.0TB(0.0%)/1(0%)\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can use the following command to print the list of files within each sub-folder for a given directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"$cd $HOME\n$du --inodes -h --max-depth=1\n6	./.ssh\n88	./.config\n2	./.vnc\n2	./.aws\n3	./.lmod.d\n5.3K	./.local\n3	./.dbus\n408	./ondemand\n2	./.virtual_documents\n6	./.nv\n6.7K	./.pixi\n33	./workshop_scripts\n5	./.cupy\n6	./.gnupg\n1	./.emacs.d\n194	./.nextflow\n6	./.terminfo\n2	./.conda\n2	./.singularity\n3	./.vast-dev\n1	./custom\n185	./genai-workshop\n6	./.atuin\n1	./.apptainer\n9	./.subversion\n4	./packages\n1.4K	./.cache\n15K	.\n"})}),"\n",(0,s.jsx)(n.h2,{id:"large-number-of-small-files",children:"Large number of small files"}),"\n",(0,s.jsxs)(n.p,{children:["In case your dataset or workflow requires to use large number of small files, this can create a bottleneck due to read/write rates. Please refer to ",(0,s.jsx)(n.a,{href:"/docs/hpc/storage/large_number_of_small_files",children:"our page on working with a large number of files"})," to learn about some of the options we recommend to consider."]}),"\n",(0,s.jsx)(n.h2,{id:"installing-python-packages",children:"Installing Python packages"}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Your home directory is limited to a relatively small number of inodes (30,000). Creating conda/python environments in you home directory, this can eat easily exhaust your inode quota."})}),"\n",(0,s.jsxs)(n.p,{children:["Please review the ",(0,s.jsx)(n.a,{href:"/docs/hpc/tools_and_software/intro#package-management-for-r-python--julia-and-conda-in-general",children:"Package Management section"})," of the ",(0,s.jsx)(n.a,{href:"/docs/hpc/tools_and_software/intro",children:"Torch Software Page"}),"."]})]})}function h(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},30416(e,n,t){t.d(n,{R:()=>r,x:()=>i});var o=t(59471);let s={},a=o.createContext(s);function r(e){let n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);