"use strict";(self.webpackChunkrts_docs=self.webpackChunkrts_docs||[]).push([["7462"],{17931(e,n,t){t.r(n),t.d(n,{metadata:()=>i,default:()=>d,frontMatter:()=>c,contentTitle:()=>r,toc:()=>l,assets:()=>a});var i=JSON.parse('{"id":"hpc/connecting_to_hpc/connecting_to_hpc","title":"Connecting to the HPC Cluster","description":"This page gives an overview of connecting to the HPC cluster, for a tutorial on this topic, head to the this section!","source":"@site/docs/hpc/02_connecting_to_hpc/01_connecting_to_hpc.mdx","sourceDirName":"hpc/02_connecting_to_hpc","slug":"/hpc/connecting_to_hpc/connecting_to_hpc","permalink":"/docs/hpc/connecting_to_hpc/connecting_to_hpc","draft":false,"unlisted":false,"editUrl":"https://github.com/NYU-RTS/rts-docs/blob/main/docs/hpc/02_connecting_to_hpc/01_connecting_to_hpc.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"hpcSidebar","previous":{"title":"How to approve an allocation request","permalink":"/docs/hpc/getting_started/approving_an_allocation_request"},"next":{"title":"X11 Forwarding","permalink":"/docs/hpc/connecting_to_hpc/x11_forwarding"}}'),o=t(62615),s=t(30416);let c={},r="Connecting to the HPC Cluster",a={},l=[{value:"Configuring Your SSH Client",id:"configuring-your-ssh-client",level:2},{value:"MacOS/Linux",id:"macoslinux",level:3},{value:"Windows",id:"windows",level:3},{value:"Common issues",id:"common-issues",level:3},{value:"Connecting to the NYU Network",id:"connecting-to-the-nyu-network",level:2},{value:"Command Line Interface (with a Terminal)",id:"command-line-interface-with-a-terminal",level:2},{value:"Mac &amp; Linux Access",id:"mac--linux-access",level:3},{value:"Windows",id:"windows-1",level:3},{value:"Powershell",id:"powershell",level:4},{value:"Windows WSL2",id:"windows-wsl2",level:4},{value:"Two-factor authentication for Torch",id:"two-factor-authentication-for-torch",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"connecting-to-the-hpc-cluster",children:"Connecting to the HPC Cluster"})}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["This page gives an overview of connecting to the HPC cluster, for a tutorial on this topic, head to the ",(0,o.jsx)(n.a,{href:"/docs/hpc/tutorial_intro_shell_hpc/connecting_to_hpc",children:"this section"}),"!"]})}),"\n",(0,o.jsxs)(n.p,{children:["There are several ways to interact with the Torch HPC cluster. Similar to other Linux clusters, the most common method of connection is via a Command Line Interface (CLI). A CLI is a program that allows you to create and delete files, run programs, and navigate through directories and files via a typed prompt. On Mac, the built-in CLI application is called Terminal. While Windows 11 machines support a Linux Subsystem, which allows for similar functionality, a popular tool used to connect to a Linux server is a free application called ",(0,o.jsx)(n.a,{href:"https://mobaxterm.mobatek.net/documentation.html",children:"MoabXterm"})]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["If you'd prefer to access the HPC cluster via a web gateway instead, please refer to ",(0,o.jsx)(n.a,{href:"/docs/hpc/ood/ood_intro",children:"the section describing Open OnDemand (OOD)"}),"."]})}),"\n",(0,o.jsx)(n.p,{children:"The following sections will outline basic ways to connect to the Torch cluster. Access to the clusters is primarily handled via the Secure Shell Protocol, or ssh. Below we outline ways to connect via ssh on Mac, Linux, and Windows machines."}),"\n",(0,o.jsx)(n.h2,{id:"configuring-your-ssh-client",children:"Configuring Your SSH Client"}),"\n",(0,o.jsx)(n.p,{children:"To connect to HPC systems, you have to configure the SSH client on your machine. We recommend the following configuration:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"Host dtn.torch.hpc.nyu.edu\n  User <NetID>\n  StrictHostKeyChecking no\n  ServerAliveInterval 60\n  ForwardAgent yes\n  UserKnownHostsFile /dev/null\n  LogLevel ERROR\n\nHost torch login.torch.hpc.nyu.edu\n  Hostname login.torch.hpc.nyu.edu\n  User <NetID>\n  StrictHostKeyChecking no\n  ServerAliveInterval 60\n  ForwardAgent yes\n  UserKnownHostsFile /dev/null\n  LogLevel ERROR\n"})}),"\n",(0,o.jsx)(n.admonition,{title:"No SSH Keys on Torch",type:"warning",children:(0,o.jsx)(n.p,{children:"SSH keys are not supported on Torch due to increased security resrtictions."})}),"\n",(0,o.jsx)(n.h3,{id:"macoslinux",children:"MacOS/Linux"}),"\n",(0,o.jsxs)(n.p,{children:["MacOS/Linux machines have SSH clients pre-installed. Using the editor of your choice, open the ",(0,o.jsx)(n.code,{children:"~/.ssh/config"})," file on your machine and add the contents listed above."]}),"\n",(0,o.jsx)(n.h3,{id:"windows",children:"Windows"}),"\n",(0,o.jsx)(n.p,{children:"Using Powershell you can use the following to create and open a Windows SSH config file:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"# Create the config file with Powershell\nNew-Item -Path $HOME\\.ssh\\config -ItemType File\n\n# Open config File with Notepad\nC:\\WINDOWS\\System32\\notepad.exe $HOME\\.ssh\\config\n"})}),"\n",(0,o.jsx)(n.p,{children:"Configuring the file above will allow you to use the cmd terminal to connect to Torch."}),"\n",(0,o.jsx)(n.h3,{id:"common-issues",children:"Common issues"}),"\n",(0,o.jsxs)(n.admonition,{title:"Man in the Middle warning",type:"warning",children:[(0,o.jsx)(n.p,{children:"If you see this warning:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nIT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\nSomeone could be eavesdropping on you right now (man-in-the-middle attack)!\nIt is also possible that a host key has just been changed.\n"})}),(0,o.jsxs)(n.p,{children:["Do not be alarmed - this is an issue that occurs because the Torch and Torch clusters have multiple login nodes. For instance, ",(0,o.jsx)(n.code,{children:"login.torch.hpc.nyu.edu"})," resolves to one of three possible login nodes (",(0,o.jsx)(n.code,{children:"log-1"}),", ",(0,o.jsx)(n.code,{children:"log-2"}),", and ",(0,o.jsx)(n.code,{children:"log-3"}),"). The configuration directive ",(0,o.jsx)(n.code,{children:"StrictHostKeyChecking no"})," referenced in the recommended config above will prevent this error. Ensure that you have not missed adding it."]})]}),"\n",(0,o.jsx)(n.admonition,{title:"SSH Timeout errors",type:"info",children:(0,o.jsxs)(n.p,{children:["SSH timeout errors can be fixed by extending the ",(0,o.jsx)(n.code,{children:"ServerAliveInterval"})," argument."]})}),"\n",(0,o.jsx)(n.h2,{id:"connecting-to-the-nyu-network",children:"Connecting to the NYU Network"}),"\n",(0,o.jsx)(n.p,{children:"To access the HPC systems, you must either be on the NYU secure network (such as the NYU WiFi or a wired connection from an NYU office) or use the NYU VPN."}),"\n",(0,o.jsx)(n.admonition,{title:"Connecting to the HPC clusters from outside NYU Network",type:"info",children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://www.nyu.edu/life/information-technology/infrastructure/network-services/vpn.html",children:"Set up your computer to use the NYU VPN"}),". Once you've created a VPN connection, you can proceed as if you were connected to the NYU net"]})}),"\n",(0,o.jsx)(n.h2,{id:"command-line-interface-with-a-terminal",children:"Command Line Interface (with a Terminal)"}),"\n",(0,o.jsx)(n.h3,{id:"mac--linux-access",children:"Mac & Linux Access"}),"\n",(0,o.jsx)(n.p,{children:"Once you're on the VPN or the main NYU network on campus you can SSH directly to torch like so:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"ssh <Your NetID>@login.torch.hpc.nyu.edu\n"})}),"\n",(0,o.jsx)(n.h3,{id:"windows-1",children:"Windows"}),"\n",(0,o.jsx)(n.h4,{id:"powershell",children:"Powershell"}),"\n",(0,o.jsxs)(n.p,{children:["You can access the ssh client via Powershell, either by installing ",(0,o.jsx)(n.a,{href:"https://apps.microsoft.com/detail/9n0dx20hk701?hl=en-US&gl=US",children:"Windows Terminal"})," or ",(0,o.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-windows",children:"Powershell"})," directly. With powershell, you would log into the HPC systems the same way as with a Linux terminal."]}),"\n",(0,o.jsx)(n.h4,{id:"windows-wsl2",children:"Windows WSL2"}),"\n",(0,o.jsxs)(n.p,{children:["Alternatively, you can install WSL2, and then install Ubuntu or other Linux distribution (for example, from Microsoft Store). You will have a fully functional Ubuntu with terminal and can connect to cluster using instructions provided above for Linux/Mac users. Instructions on WSL installation can be found here: ",(0,o.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/wsl/install-win10",children:"https://docs.microsoft.com/en-us/windows/wsl/install-win10"})]}),"\n",(0,o.jsxs)(n.p,{children:["With ",(0,o.jsx)(n.a,{href:"https://apps.microsoft.com/detail/9n0dx20hk701?hl=en-US&gl=US",children:"Windowns Terminal"}),", you can access both the Linux WSL2 shell and the Windows Powershell from the same application."]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["If you are using WSL 2 (Windows subsystem for Linux 2), you may not be able to access internet when Cisco AnyConnect VPN, installed from exe file, is activated. A potential solution: uninstall Cisco AnyConnect and install AnyConnect using Microsoft Store, and then setup new VPN connection using settings described on ",(0,o.jsx)(n.a,{href:"https://nyu.service-now.com/sp?sys_kb_id=6177d7031c811904bbcf4dc2835ec340&id=kb_article_view&sysparm_rank=3&sysparm_tsqueryId=9a07fee81b146410a54ffdd51a4bcb8e",children:"IT webpage"}),"."]}),"\n"]})}),"\n",(0,o.jsx)(n.h2,{id:"two-factor-authentication-for-torch",children:"Two-factor authentication for Torch"}),"\n",(0,o.jsx)(n.p,{children:"There is an extra layer of security when accessing Torch which is described below:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Login as usual via the ",(0,o.jsx)(n.code,{children:"ssh torch"})," command:\n",(0,o.jsx)(n.img,{alt:"torch-ssh-2fa-1",src:t(71363).A+"",width:"1126",height:"213"})]}),"\n",(0,o.jsxs)(n.li,{children:["Open ",(0,o.jsx)(n.a,{href:"https://microsoft.com/devicelogin",children:"https://microsoft.com/devicelogin"}),"\n",(0,o.jsx)(n.img,{alt:"torch-ssh-2fa-2",src:t(69736).A+"",width:"915",height:"771"})]}),"\n",(0,o.jsxs)(n.li,{children:["Copy and enter pin from terminal\n",(0,o.jsx)(n.img,{alt:"torch-ssh-2fa-3",src:t(83953).A+"",width:"915",height:"771"})]}),"\n",(0,o.jsxs)(n.li,{children:["Enter or select your ",(0,o.jsx)(n.code,{children:"<NetID>@nyu.edu"})," account\n",(0,o.jsx)(n.img,{alt:"torch-ssh-2fa-4",src:t(42942).A+"",width:"915",height:"772"})]}),"\n",(0,o.jsxs)(n.li,{children:["Enter your password\n",(0,o.jsx)(n.img,{alt:"torch-ssh-2fa-5",src:t(61255).A+"",width:"2013",height:"1662"})]}),"\n",(0,o.jsxs)(n.li,{children:["Complete MFA (click on Approve with MFA (Duo)\n",(0,o.jsx)(n.img,{alt:"torch-ssh-2fa-6",src:t(41196).A+"",width:"915",height:"771"}),"\n",(0,o.jsx)(n.img,{alt:"torch-ssh-2fa-7",src:t(10293).A+"",width:"915",height:"772"}),"\n",(0,o.jsx)(n.img,{alt:"torch-ssh-2fa-8",src:t(81138).A+"",width:"915",height:"772"})]}),"\n",(0,o.jsxs)(n.li,{children:["Return to terminal and hit Enter\n",(0,o.jsx)(n.img,{alt:"torch-ssh-2fa-9",src:t(79003).A+"",width:"1144",height:"421"})]}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},71363(e,n,t){t.d(n,{A:()=>i});let i=t.p+"assets/images/torch-ssh-2fa-1-2ccbac8203b681740bd1a65e7ed223b4.png"},69736(e,n,t){t.d(n,{A:()=>i});let i=t.p+"assets/images/torch-ssh-2fa-2-6e862865eafa2de8d3e93e5d02f9b234.png"},83953(e,n,t){t.d(n,{A:()=>i});let i=t.p+"assets/images/torch-ssh-2fa-3-63eed1353950ed9cd5d2359e7a4d1fc7.png"},42942(e,n,t){t.d(n,{A:()=>i});let i=t.p+"assets/images/torch-ssh-2fa-4-ddf68eee5d73893637f16e71abe9085e.png"},61255(e,n,t){t.d(n,{A:()=>i});let i=t.p+"assets/images/torch-ssh-2fa-5-30bd870f5402f93e70de37bdd7be3e87.png"},41196(e,n,t){t.d(n,{A:()=>i});let i=t.p+"assets/images/torch-ssh-2fa-6-a53d702fa622ebdab3b7f16e59d84127.png"},10293(e,n,t){t.d(n,{A:()=>i});let i=t.p+"assets/images/torch-ssh-2fa-7-59c685726e34e2bed1e366230bc6861b.png"},81138(e,n,t){t.d(n,{A:()=>i});let i=t.p+"assets/images/torch-ssh-2fa-8-5db031845dbd8c180fe0c1a7e0ad8202.png"},79003(e,n,t){t.d(n,{A:()=>i});let i=t.p+"assets/images/torch-ssh-2fa-9-6a6b4719162b6ee2b1635a3ee8d30897.png"},30416(e,n,t){t.d(n,{R:()=>c,x:()=>r});var i=t(59471);let o={},s=i.createContext(o);function c(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);